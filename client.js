!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){const{NuiMessage:n,NuiCallback:o}=a(1),s=a(2),{headingDifference:c,distance:i}=a(3),r=a(4),u=window,l=JSON.parse(u.LoadResourceFile("ghmattibanking","config.client.json"));let m=!1,d="",p=0,h=!0;const g=JSON.parse(u.LoadResourceFile("ghmattibanking",`locale/${l.locale}.json`));u.on("onClientResourceStart",e=>{"ghmattibanking"===e&&n({type:"setConfig",locale:g,config:l})}),u.on("ghmb:setDisplayCash",(e,t)=>{u.StatSetInt("MP0_WALLET_BALANCE",e,!0),u.StatSetInt("BANK_BALANCE",t,!0)}),u.on("ghmb:toggleShowCash",e=>{e?(u.N_0xc2d15bef167e27bc(),u.SetMultiplayerBankCash(),u.ShowHudComponentThisFrame(3),u.ShowHudComponentThisFrame(4)):(u.N_0x95cf81bd06ee1887(),u.RemoveMultiplayerHudCash(),u.HideHudComponentThisFrame(3),u.HideHudComponentThisFrame(4))});const f=l.displayDriverCallPersistantShow,b=l.displayDriverCallFeed;let y=new s;function N(){const e=y.getLocation(),t=u.GetStreetNameAtCoord(...e)[0];return`${u.GetStreetNameFromHashKey(t)} - ${u.GetLabelText(u.GetNameOfZone(...e))}`}setInterval(()=>{u.emitNet("ghmb:ping")},1500),u.onNet("ghmb:set-money",e=>{const[t,a]=e;p!==a&&(h=!0,p=a),u.emit(b,t,a)});let S=!1;o("close",()=>{S=!1,u.SetNuiFocus(S,S),n({type:"toggleShow"}),l.displayCashInBankingUI&&u.emit(f,!1)}),setInterval(()=>{if(S){const e=new Date;e.setDate(e.getDate()+u.GetClockDayOfWeek()-e.getDay()),e.setHours(u.GetClockHours()),e.setMinutes(u.GetClockMinutes()),e.setSeconds(u.GetClockSeconds()),n({type:"setDate",string:e.toISOString()})}},250),u.onNet("ghmb:set-owner",e=>{e?(n({type:"setUser",user:e}),m=!0,d=e):m=!1}),u.onNet("ghmb:update-transactions",e=>{n({type:"updateTransactionData",transactions:e})}),u.onNet("ghmb:update-accounts",e=>{n({type:"updateAccountData",accounts:e})}),u.onNet("ghmb:remove-account",e=>{n({type:"removeAccount",id:e})});let C=!1;let k=!1;const I=[{name:"fleeca",hash:u.GetHashKey("prop_fleeca_atm")},{name:"fleeca",hash:u.GetHashKey("prop_atm_01")},{name:"lombank",hash:u.GetHashKey("prop_atm_02")},{name:"maze-bank",hash:u.GetHashKey("prop_atm_03")}];let w="fleeca",v=!1,T=!1;setInterval(()=>{if(y=new s,T=!1,m&&!S){const e=y.getLocation();I.forEach(t=>{const a=u.GetClosestObjectOfType(...e,.75,t.hash,!1);0!==a&&(w=t.name,v=!l.atmsAsBanks,Math.abs(c(u.GetEntityHeading(a),y.getHeading()))<60&&(T=!0))}),r.fleeca.forEach(t=>{i(e,t)<4&&(w="fleeca",v=!1,T=!0)}),r.lombank.forEach(t=>{i(e,t)<4&&(w="lombank",v=!1,T=!0)}),r.mazebank.forEach(t=>{i(e,t)<4&&(w="maze-bank",v=!1,T=!0)})}},200),u.setTick(()=>{T&&(u.BeginTextCommandDisplayHelp("STRING"),u.AddTextComponentSubstringPlayerName("Press ~INPUT_CONTEXT~ to open the banking menu"),u.EndTextCommandDisplayHelp(0,0,0,-1),u.IsControlJustReleased(0,51)&&function(e,t){S=!0,n({type:"setLocation",string:N()}),n({type:"setBankState",bankName:e,isAtm:t}),u.SetNuiFocus(S,S),n({type:"toggleShow"}),l.displayCashInBankingUI&&u.emit(f,!0)}(w,v))}),u.setInterval(()=>{(T||S)&&(k||(k=!0,u.emitNet("ghmb:request-autocomplete-data"),setTimeout(()=>{k=!1},3e5)),h&&(C||(C=!0,h=!1,u.emitNet("ghmb:request-account-data",d),setTimeout(()=>{C=!1},5e3))))},300),o("new-account",e=>{u.emitNet("ghmb:request-new-account",d,e,w)}),o("deposit-on-account",e=>{const t=e;t.purpose=`Deposited on ${N()}`,u.emitNet("ghmb:request-deposit",d,t)}),o("withdraw-from-account",e=>{const t=e;t.purpose=`Withdrawn on ${N()}`,u.emitNet("ghmb:request-withdrawal",d,t)}),u.onNet("ghmb:update-autocomplete-access-data",e=>{const t=[];e.forEach(e=>{t.push({text:e.name,value:e.id})}),n({type:"setAutocompleteAccessData",data:t})}),u.onNet("ghmb:update-autocomplete-transfer-data",e=>{n({type:"setAutocompleteTransferData",data:e})}),o("transfer-from-account",e=>{u.emitNet("ghmb:request-transfer",d,e)}),u.onNet("ghmb:update-autocomplete-access-values",e=>{n({type:"setAutocompleteAccessValues",data:e})}),o("edit-account",e=>{e.nameIs!==e.nameRequest&&u.emitNet("ghmb:change-account-name",d,e.accountId,e.nameRequest),e.accessRequest.forEach((t,a)=>{"string"==typeof t&&e.accessRequest.splice(a,1)});const t=[],a=[];e.accessRequest.forEach(a=>{-1===e.accessIs.findIndex(e=>e.value===a.value)&&t.push(a)}),e.accessIs.forEach(t=>{-1===e.accessRequest.findIndex(e=>e.value===t.value)&&a.push(t)}),(t.length>0||a.length>0)&&(u.emitNet("ghmb:change-access",e.accountId,t,a),setTimeout(()=>{u.emitNet("ghmb:request-autocomplete-data")},500))})},function(e,t){const a=window;e.exports.NuiMessage=(e=>{a.SendNuiMessage(JSON.stringify(e))}),e.exports.NuiCallback=((e,t)=>{a.RegisterNuiCallbackType(e),a.on(`__cfx_nui:${e}`,(e,a)=>{t(e),a("ok")})})},function(e,t){const a=window;e.exports=class{constructor(){this.id=a.PlayerId(),this.pedId=a.PlayerPedId()}isDead(){return a.IsEntityDead(this.pedId)}getLocation(){return a.GetEntityCoords(this.pedId,this.isDead())}getHeading(){return a.GetEntityHeading(this.pedId)}}},function(e,t){e.exports.headingDifference=((e,t)=>{let a=e-t;return a=(a+180)%360-180}),e.exports.distance=((e,t)=>(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2]))},function(e,t){e.exports={fleeca:[[-1213.3802490234375,-331.0857238769531,37.78700256347656],[-351.7173156738281,-49.736122131347656,49.042518615722656],[313.450439453125,-278.8160400390625,54.17076110839844],[149.16871643066406,-1040.4617919921875,29.374067306518555],[-814.1931762695312,-1114.439453125,11.181421279907227],[-2962.57958984375,482.0854187011719,15.703088760375977],[1175.854248046875,2706.90576171875,38.093997955322266]],lombank:[[-111.96048736572266,6469.06005859375,31.626708984375],[-1581.1365966796875,-558.7042846679688,34.953155517578125],[-864.0944213867188,-192.4640350341797,37.843284606933594],[-1104.6019287109375,-1352.911376953125,5.0342793464660645],[7.461662292480469,-933.2625732421875,29.90500831604004],[242.2814483642578,225.0426483154297,106.28680419921875],[247.48980712890625,223.20228576660156,106.28680419921875],[252.70977783203125,221.3952178955078,106.2865219116211]],mazebank:[[-66.7977523803711,-802.5413818359375,44.22727966308594],[-71.03881072998047,-800.989501953125,44.22727966308594],[-83.22613525390625,-835.496337890625,40.5579719543457],[-79.40016174316406,-836.9090576171875,40.55821228027344],[-1317.6741943359375,-832.0451049804688,16.9702091217041],[-1381.2413330078125,-499.27545166015625,33.15737533569336],[-1370.3153076171875,-503.1442565917969,33.15737533569336]]}}]);